{\rtf1\ansi \deff3\deflang1033{\fonttbl{\f3\fmodern\fcharset0\fprq1 Courier{\*\falt Courier New};}{\f11\fmodern\fcharset0\fprq1 Courier New;}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;
\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;
\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\ri-800\nowidctlpar \f3\fs20\lang2055 \snext0 Normal;}{\*\cs10 \additive Default Paragraph Font;}}{\info{\author Ortwin Gl\'fcck}{\operator Ortwin Gl\'fcck}
{\creatim\yr1999\mo1\dy31\hr17\min42}{\revtim\yr2002\mo9\dy3\hr21\min50}{\version2}{\edmins0}{\nofpages8}{\nofwords2846}{\nofchars16226}{\*\company Sherwood Industries}{\vern57431}}\margl1417\margr1417\margt1417\margb1134 
\widowctrl\ftnbj\aenddoc\hyphhotz425\hyphcaps0 \fet0\sectd \linex0\headery709\footery709\colsx709 {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl3
\pndec\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang{\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}
{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}\pard\plain \ri-800\nowidctlpar 
\f3\fs20\lang2055 Odi's DOS tools for long file names
\par ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
\par ALWAYS GET THE LATEST VERSION FROM http://www.odi.ch/
\par AND READ THIS BEFORE SENDING ME EMAIL!
\par {\v MS-DOS Text mit Zeilenwechsel}
\par Contents
\par --------
\par 
\par 1. Overview
\par 2. Description
\par 3. Known bugs 
\par 4. Where can I report bugs and get the latest version?
\par 5. FAQ
\par 6. License
\par 7. Acknowledgements
\par 
\par 1. Overview
\par 1.1 What's this?
\par ----------------
\par These tools provide easy file management under DOS with long filenames created by Windows 95/98 on FAT32, FAT16 and FAT12 file systems. To take full advantage of these tools, run them in pure DOS mode - not a DOS box under Windows. As far as I know this i
s the only completely FREE solution to handle long filenames in DOS.
\par 
\par To show you what I mean: Open up a DOS box in Windows 95 and type DIR - it will display long filenames. Do the same in DOS mode and you will only get the short names. Copy a file with a long filename in DOS mode and it will lose its long name.
\par Using my LFN Tools you can just feel like in a DOS box when you are actually in DOS mode. Typing LDIR brings up the directory with its long filenames. Copying a file with LCOPY preserves long filenames. You can even create directories (LMD) with long name
s or rename files (LREN) with long names.
\par 
\par 1.2 What is it not?
\par -------------------
\par It is NOT an extension of DOS. All your DOS programs can NOT handle long file names even with these tools. (I should 
mention that there is a driver called LFNDOS that provides the Microsoft Long Filename API under DOS. You can find it somewhere on the web.) Other file systems than FAT and ISO-9660/Joliet for CD-ROMs are not supported yet. Thus these tools do not work on
 Apple Mac-Drives, Windows NT-Drives, Linux etc. But they run on Iomega ZIP drives. They are not supposed to run in a DOS-Box under Windows nor are they supposed to handle any short names. Use the generic DOS commands instead.
\par Do not use with Windows NT or Windows 2000.
\par 
\par 1.3 Who may need these tools?
\par -----------------------------
\par Anyone who has Windows 9x/me running. Anyone who wants to make a backup copy of his Windows. Anyone who loves good old DOS. Anyone who must work in DOS mode for maintainance of the OS. Are you reinstalling Windows cause it's wrecked and want to backup all
 your data? Bought a new Harddrive and do not want to reinstall Windows? LCopy it! Want to restore your Windows directory from a ZIP drive or CD-ROM? Try it!
\par 
\par 1.4 What do the tools do?
\par -------------------------
\par Each tool corresponds to a DOS equivalent but can handle long file names and FAT32.
\par 
\par LDIR.EXE   List a directory/folder like DIR
\par LCD.EXE    Changes to any directory/folder like CD
\par LREN.EXE   Renames a file like REN
\par LDEL.EXE   Deletes a file line DEL
\par LCHK.EXE   Display information about a volume
\par LCOPY.EXE  Copies files better than COPY
\par LMD.EXE    Creates a directory like MD
\par LRD.EXE    Removes a directory like RD
\par 
\par 1.5 How do the tools work internally?
\par -------------------------------------
\par They do not use the common DOS calls to handle files and/or directories. Instead they access disks directly either through BIOS INT 25h and 26h or Int 21h function 7305h, depending on the version of operating system. For CD-ROM access Int 2Fh function 15h
 is used. Thus only FAT file systems and ISO9660/Joliet are supported. Five different file systems after all.
\par 
\par 1.6 What's new?
\par ---------------
\par To find out what version you have run LCHK. For details see history.txt.
\par 
\par 1.7 A note on CD-ROM file systems
\par ---------------------------------
\par \pard \ri-800\nowidctlpar\tqr\tx9356 
On Windows platforms mostly two file systems (FS) are used for CD-ROMs at the same time: ISO-9660 and Microsoft Joliet (which is optional). Windows uses Joliet if available. DOS always uses ISO. ISO can either store short names in uppercase OR long names 
(31 characters) in a reduced ASCII character set. Long names are converted to short ones in DOS. Joliet can use long filenames in Unicode characters. This is the reason for the /I switch. 
\par \pard \ri-800\nowidctlpar 
\par 1.8 Multisession CD-ROMs
\par ------------------------
\par LFN Tools are capable of accessing previously recorded sessions on Multisession CD-Rs. LCHK can list all tracks on a CD. Every track containing DATA is considered a "session" and has its own file system. Sessions can include or "overwrite" files from prev
ious session. A new session can "delete" a file by simply not making a directory entry for it. With LFN Tools you are able to recover such "deleted" files.
\par 
\par 1.9 Extended memory EMS and XMS
\par -------------------------------
\par LCOPY by default tries to use extended memory for its disk cache (2'393'300 bytes). This can improve performance on huge directories like the Windows\\
System directory. However for the extended memory to be used you need to load a memory manager like EMM386 in your config.sys. The simplest way to do so is to include the following line in your config.sys file:
\par device=c:\\windows\\emm386.exe RAM
\par If no memory manager is installed LCOPY can not use extended memory and so uses its standard cache method. Use the /V switch with LCOPY to turn off use of extended memory.
\par All the other tools do by default NOT use extended memory because overhead would be too big and performance would not necessarily be better.
\par 
\par 2. Description
\par 
\par Note: When working with long filenames files do not need to have any extension or can have more than one. For example: "Mailbox", "Mail from Mama.txt", "Book.doc.zip". Thus wildcards do behave slightly different. (Microsoft's DOS Box instead keeps the beh
aviour compatible to DOS.) To select all files use a single * instead of *.*. Because *.* would select all files containing a dot - and most of the directory names don't!
\par 
\par Switches need not be separated by spaces anymore. However when using /Tnn it must be followed by a space if additional switches are specified. Otherwise they are ignored!
\par 
\par 2.1 LDIR
\par --------
\par This command displays the specified directory if supplied a long directory name. Without parameters it displays the current directory. If the path or filename contains spaces double 
quotes are required (see example). You can use the common wildcards (?,*) to restrict the output to certain files. Use asterix to abreviate a long directory name. The /a switch displays hidden files too. The /b switch displays only long file names; no dat
e/time information. The /s switch displays all subdirectories. When viewing large directories use the /p switch to pause listing between screen pages. Witch the /c switch you can turn off the cache. This will slow down the whole thing a bit, but consumes 
le
ss memory (~128 KB). The /I and /T switches are for CD-ROM only. /I forces LDIR to use ISO file system rather than Joliet. /T must be followed by the number of a valid data track and a space. The track number identifies which session to use. When /T is ab
sent the last session recorded is used. Use LCHK to display valid track numbers.
\par 
\par Note: When using quotation marks never put a backslash at the end! (See "Known Bugs & Features" for details)
\par 
\par Syntax:  LDIR [drive:][path][filename] [/?] [/A][/B][/S][/P]
\par \pard \ri-800\nowidctlpar\tx6379 \tab [/C][/I][/Tn]
\par \pard \ri-800\nowidctlpar 
\par \pard \fi-1276\li1276\ri-800\nowidctlpar Example: D:\\WINDOZE>LDIR "C:\\new folder\\*.txt"
\par 
\par          .       .    <DIR>       13.01.1999  19:49  .
\par          ..      .    <DIR>       13.01.1999  19:49  ..
\par          NEWTEX~1.TXT        1247 13.01.1999  20:02  New textfile.txt
\par 
\par          D:\\>LDIR w*
\par 
\par          WINDOZE .    <DIR>       13.01.1999  19:49  Windoze
\par 
\par          D:\\>LDIR w*\\
\par 
\par          .       .    <DIR>       13.01.1999  19:49  .
\par          ..      .    <DIR>       13.01.1999  19:49  ..
\par          NEWTEX~1.TXT        1247 13.01.1999  20:02  New textfile.txt
\par 
\par \pard \ri-800\nowidctlpar 
\par 2.2 LCD
\par -------
\par This command changes the current working directory to the specified location. Unlike the corresponding DOS command LCD changes directly to a specified drive (see example). LCD will change to the first matching directory it meets. In addition wildcards can
 be used in pathnames. The first item occuring in the directory structure (this could be a file!) is used. The /I and /T switches are for CD-ROM only. /I forces LDIR to 
use ISO file system rather than Joliet. /T must be followed by the number of a data track. The track number identifies which session to use. When /T is absent the last session recorded is used. Use LCHK to display valid track numbers.
\par 
\par 
\par Syntax:  LCD [drive:]pathmask [/?][/I][/Tn]
\par 
\par Example: D:\\WINDOZE>LCD "C:\\new folder"
\par 
\par          C:\\NEWFOL~1>LCD ..
\par 
\par          C:\\>LCD pro*\\onli*
\par 
\par          C:\\PROGRA~1\\ONLINE~1>
\par 
\par 2.3 LDEL
\par --------
\par This command deletes the specified file(s). You can use the common wildcards (?,*
) to select more than one file. The /s switch also deletes files found in subdirectories. Empty subdirectories are deleted automatically. The /a switch also deletes files with the read-only attribute set. If combined with the /s switch also read-only dire
ctories are processed. Hidden, system etc. files / directories are NOT affected by /a. To remove even those use /f. /f automatically includes /a. The /p switch asks you before deleting each file wheter to proceed or not. With the /c switch you can turn of
f the cache. This will slow down the whole thing a bit, but consumes less memory (~128 KB). To delete all files in a directory use "LDEL *" istead of "LDEL *.*".
\par 
\par 
\par Syntax:  LDEL [drive:][path\\]file [/A][/F][/S][/P][/C][/?]
\par 
\par Example: C:\\TEMP>LDEL *.txt
\par          Letter from Al.txt deleted
\par          My memories.txt deleted
\par 
\par          C:\\TEMP>LDEL "E:\\Garbage folder\\*"
\par          Trash 1.dat deleted
\par          Trash 2.file deleted
\par 
\par Use /s with extreme care!
\par LDEL D:\\* /s /f          Deletes everything on drive D:
\par LDEL d:\\temp /s          Removes all files called temp from all directories on D:
\par LDEL d:\\temp\\* /s        Removes all files from directory D:\\TEMP and down
\par 
\par 
\par 2.4 LREN
\par --------
\par This command assigns a new long name to a file or directory. Do not use any wildcards (?,*); rename only a single file or directory. You will not be able to rename a file to a name containing unicode characters such as the Euro Symbol. Renaming to a short
 name does not remove the long name; its case is stored in this place for example. 
\par 
\par Syntax: LREN [drive:][path\\]filename newfilename [/?]
\par 
\par \pard \fi-1276\li1276\ri-800\nowidctlpar Example: C:\\TEMP>LREN "An important file.txt" "Not so important any more.txt"
\par 
\par          C:\\TEMP>
\par 
\par 
\par 2.5 LCOPY
\par ---------
\par \pard \ri-800\nowidctlpar 
This command copies one or more files to any destination. You can use wildcards (?,*) to select more than one file. If files already exist in the destination directory the user is prompted if to proceed. This prompting can be turned off with the /Y switch
. If the targetfile is read-only, hidden or system the file is not copied by d
efault. To overwrite even those files, use the switch /R. The DOS 8.3 name is used for the target file if possible. If however a file with that name already exists a new unique 8.3 alias is created. When copying from CD a new 8.3 name is generated by defa
ult. However by specifying the /K switch LCOPY will use the short name provided by the CD file system. If the destination is omitted the current drive and directory are used. The switch /S copies also all subdirectories with their contents. The /E switch 
pr
events that empty directories are copied. When using the /D switch together with /S all matching files in all subdirectories are copied (collected) to the same destination directory and no subdirectories are created. The switch /A copies also hidden files
. If /A and /S are combined even hidden directories are copied. With the /C switch you can turn off the cache. This will slow down the whole thing a bit, but consumes less memory (~128 KB). If you have a memory manager like EMM386 installed LCOPY tries to
 u
se extended memory (EMS and XMS) for the cache. This improves performance on huge directories but is slightly slower with short ones. If you prefer not to use extended memory use the /V switch. You can abort the operation by pressing any key. [The "any" k
ey is the space bar ;-)] The /B switch turns off this feature. The /I and /T switches are for CD-ROM only. /I forces LDIR to use ISO file system rather than Joliet. /T must be followed by the number of a data track. The track number identifies which sessi
on to use. When /T is absent the last session recorded is used. Use LCHK to display valid track numbers. 
\par 
\par Note: When copying files from CD-ROM to hard drive, read-only attribute is NOT set by default. 
\par 
\par Syntax: LCOPY [drive:][path\\]sourcefile [drive:][destination] [/?][/S\~[/D]][/E][/A][/C][/V][/R][/Y][/B][/I][/Tn]
\par 
\par \pard \fi-1276\li1276\ri-800\nowidctlpar Example: C:\\TEMP>LCOPY "*.text" A:\\BACKUP\\
\par          A Secret.text
\par          An important.text
\par          2 file(s) copied
\par 
\par          C:\\TEMP>LCOPY "A Secret.text" "D:\\WEB\\Now A Public.text"
\par          A Secret.text
\par          1 file(s) copied
\par 
\par \pard \fi-1134\li1134\ri-800\nowidctlpar          C:\\TEMP>LCOPY C:\\WINDOWS\\* "D:\\WRECKED SYSTEMS" /A /S /B
\par \pard \fi-1276\li1276\ri-800\nowidctlpar 
\par \pard \ri-800\nowidctlpar The last line would copy the entire operating system to another directory. You are not allowed to abort the operation.
\par \pard \fi1276\ri-800\nowidctlpar 
\par \pard \fi1134\ri-800\nowidctlpar C:>LCOPY . D:\\ /S
\par \pard \ri-800\nowidctlpar 
\par The last line would copy the directory structure only (no files). With switches /S LCOPY always mirrors the directory structure, even if no matching file is found.
\par 
\par \pard \fi1134\ri-800\nowidctlpar C:\\>LCOPY *.ZIP C:\\ARCHIVES /S /D
\par \pard \fi1276\ri-800\nowidctlpar 
\par \pard \ri-800\nowidctlpar The last line would copy all zip files on drive C to the directory \\ARCHIVES. No subdirectories are created.
\par 
\par 2.6 LMD
\par -------
\par This command creates a new subdirectory (folder).
\par 
\par Syntax: LMD [drive:][path\\]newdir [/?]
\par 
\par Example: C:\\>LMD "Backup Folder"
\par          Ok.
\par          C:\\>LCD Backup*
\par          C:\\BACKUP~1>D:
\par          D:\\>LMD "C:Apr 1,1999"
\par          Ok.
\par 
\par This creates a new Folder called "Apr 1,1999" in "Backup Folder" on drive C.
\par 
\par 2.7 LRD
\par -------
\par This command removes a subdirectory (folder).
\par 
\par Syntax: LRD [drive:][path\\]dirname [/?]
\par 
\par Example: C:\\>LRD "Backup Folder"
\par          Ok.
\par 
\par 2.8 LCHK
\par --------
\par This command displays information about a disk. This information is taken from the disk's boot sector. This command works on CD-ROMs as well. It displays detailed information on how many tracks (sessions) are on the CD-ROM. Use the track numbers displayed
 for the /T switch of LCOPY, LDIR and LCD.
\par 
\par Syntax: LCHK [drive:]
\par 
\par \pard \fi-1276\li1276\ri-800\nowidctlpar Example: C:\\>LCHK D:
\par \pard \li1276\ri-800\nowidctlpar Version 1.41
\par Copyright (C) 1999 Ortwin Glueck
\par This is free software under GPL. See the readme file for details.
\par 
\par DOS Version: FF-7.10
\par Drive: 3
\par Bytes per Sector: 512
\par Sectors per Cluster: 8
\par Reserved Sectors: 32
\par Number of Clusters: 917916
\par Number of FATs: 2
\par Number of Root entries: 0
\par Media Descriptor: f8
\par Sectors per FAT: 7179
\par Sectors: 7357707
\par First Data Sector: 14390
\par First Root Sector: 14390
\par First Root Cluster: 2
\par Root Sectors: 0
\par Fat entries per Sector: 128
\par Label:
\par File System: FAT32
\par FAT32 compatible disk access enabled
\par Volume locking enabled
\par \pard \fi-1418\li1418\ri-800\nowidctlpar 
\par \pard \ri-800\nowidctlpar 3. Known bugs and features
\par --------------------------
\par 
\par - LDIR "D:\\My Files\\" does not work as expected. Leave away the last backslash. Dos seems to convert \\" into a quotation mark (") at the very end.
\par - The DOS command line can not exceed 127 characters! (use asterix to abbreviate directories). Even batch file command lines will only pass 126 characters!
\par - You can not use LCOPY to create a file whose name equals the drive label in the drive's root directory. This is a DOS limitation. The LABEL command of DOS prior to 6.22 can destroy long filenames. [MS KB Q118493]
\par - Only Unicode characters from codepages 00h and 25h are translated. Unknown characters are converted to underscore (_). May cause non-unique filenames!
\par - LRD: You can remove the current working directory without notice.
\par - If a disk's boot record reports a wrong FAT format, FAT is corrupted (lcopy, lmd, lrd). This can especialy happen on (old) wrong formatted floppy disks. Check the filesystem with the LCHK tool first. 1.44MB-Diskettes should always be FAT12.
\par - FAT32: Only the first copy of the FAT is used for reading. Changes are ALWAYS written to all copies (mirroring).
\par - FAT32 hard drives can only be accessed if the DOS version supports FAT32. Otherwise the drive is not assigned a drive letter. Use a Win98 or Win95B boot diskette.
\par - CD-ROMs can only be accessed if a CD-ROM driver is loaded (MSCDEX). Otherwise the drive is not assigned a drive letter.
\par - I have made a short test with IDE-ATAPI Iomega ZIP drives. LFN Tools seem to work fine on them. However one user reported problems when writing which I could not reproduce.
\par - Network drives are not supported.
\par - When using the virtual memory cache (default) you need to load himem.sys and EMM386.
\par 
\par 
\par 4. Where can I report bugs and get an updated version?
\par ------------------------------------------------------
\par Any comment is to be sent to the e-mail address supplied on my homepage. I speak German and English.
\par Odi's LFN Tools are still under light development. So be sure to check for a newer version every 6 months or so. Type LCHK to find out what version you have.
\par Get the latest version from WWW: http://www.odi.ch/
\par 
\par 5. FAQ
\par ------
\par Q: Can LFN Tools access a network drive?
\par A: No. LFN Tools need physical access to individual sectors of the drive. This is not supported by DOS network drives.
\par 
\par Q: I have problems with my home burned CD-Rs. I cannot see long filenames.
\par A: Learn how to use your CD recording software and read about CD-ROM standards. You might have burned a darkgreenwithyellowspots-book CD.
\par 
\par Q: I would like to support your work with my money.
\par A: Please read the "Donations" Section.
\par \line Q: I have programmed a DOS utility. Could you convert it to handle long names?
\par A: Definitely not! Fix it yourself. You have the LFN source code.
\par 
\par Q: When trying LCOPY c:\\*.* d:\\ not all files are copied.
\par A: Use * instead of *.* and RTFM.
\par 
\par Q: I need a 16-bit compiler in order to compile your source code.
\par A: You must use Microsoft Visual C++ v1.51! Write to a newsgroup and ask for it. You will certainly find a person 
who owns an old CD-ROM. You could use some Borland C++ 5.0 too, but this requires sophisticated modifications of the code. The vmemory library is by Microsoft and usually not included with compilers other than MS.
\par 
\par Q: Please place your program on my website and inform me about new releases.
\par A: Please do that yourself! You are allowed to. Check back to my website every 3 months.
\par 
\par Q: I lost all my data after using your tools.
\par A: Sorry for that. Backup important data regularly. I do not guarantee that the software works always and everywhere. Please let me know what EXACTLY you did. See section 4.
\par 
\par 6. Donations
\par ------------
\par You can support LFN Tools by donating a small amount of money. Please log on to http://www.paypal.com/ and create an account. Send your donation to the following Email Adress: odi@odi.ch
\par 
\par 
\par 7. License
\par ----------
\par This is free software under the GNU General Public License. No warranty. Source code (MS-C++) available on http://www.odi.ch/. If you can not compile the code with your favourite compiler this is YOUR problem. I can not help you compile the code.
\par See the license.txt file included in the ZIP archive.
\par 
\par 8. Acknowledgements
\par -------------------
\par I would like to say thank you to:
\par 
\par Marcin Frankowski (NZ) for Latin-2 support
\par Geert Keteleer for valuable help and the cars :-)
\par Kurt Salentin for the debugging
\par Milan Stanik
\par Wolf Bartels
\par {\f11\lang1031 Silvio Vernillo}
\par Alfred Schumann
\par Ralph E. Griffin 
\par Herbert Schmidt, Martin Kunkel for the key hints on the bootable CD problem
\par Martin Kunkel for his digging in my code
\par Frank Littmann, Mario Latzig for hints on filename problem with Joliet
\par (Odi can't code...)
\par Bill Hall for some good hints
\par Isy for two bug reports
\par 64.245.58.28 for cool sound (R.I.P.)
\par H. Ellenberger for the bug report in 1.42
\par Benjamin Wells for his note on LCOPY *.TXT C:\\FUN /S
\par Mark Marinac for his hints on ZIP drives and compression
\par Michael Marquart for the hint on DOS 6 and extensive testing
\par Leanne & Walt Smith for the IBM PC-DOS testing
\par Gordon Chaffee for Unicode support (Linux kernel)
\par The Linux people who helped me out with the ISO structs
\par }